import{r as u,b as r,d,e as f,f as t,t as C,F as T,s as M,g as i,k as L,l as j,x as V,y as E,h as S,n as U,o as z,G as N,H as q}from"./index-cd74998a.js";const F={class:"text-900 font-semibold text-lg mt-5 mb-3 border-bottom-1 surface-border py-3"},O={class:"list-none p-0 m-0"},G={class:"flex align-items-center flex-1"},H={class:"flex flex-1 gap-3 flex-column sm:flex-row sm:justify-content-between"},J={class:"flex align-items-center"},K={key:0,class:"flex align-items-center font-semibold mr-3"},P=t("i",{class:"pi pi-comment mr-2"},null,-1),Q={key:1,class:"flex align-items-center font-semibold mr-3"},R=t("i",{class:"pi pi-paperclip mr-2"},null,-1),W={key:2,class:"flex align-items-center font-semibold white-space-nowrap"},X=t("i",{class:"pi pi-clock mr-2"},null,-1),Y={class:"flex align-items-center sm:justify-content-end"},Z={class:"mr-3"},A={__name:"List",props:{title:{type:String,required:!0},taskList:{type:Array,required:!0}},emits:["checkbox:change","delete:task","open:edit:dialog"],setup(w,{emit:p}){const a=u(null),n=u(null),b=u([{label:"Edit",icon:"pi pi-pencil",command:()=>c()},{label:"Delete",icon:"pi pi-trash",command:()=>g()}]),c=()=>{p("open:edit:dialog",n.value)},g=()=>{p("delete:task",n.value)},D=s=>new Date(s).toTimeString().split(":").slice(0,2).join(":"),_=s=>{p("checkbox:change",s)},m=(s,v,h)=>{n.value=h,a.value[v].toggle(s)};return(s,v)=>{const h=r("Checkbox"),x=r("Avatar"),$=r("AvatarGroup"),l=r("Button"),e=r("Menu");return d(),f(T,null,[t("div",F,C(w.title),1),t("ul",O,[(d(!0),f(T,null,M(w.taskList,(o,B)=>{var k,I;return d(),f("li",{key:o,class:"flex flex-column gap-3 md:flex-row md:align-items-center p-2 border-bottom-1 surface-border"},[t("div",G,[i(h,{binary:"",onChange:y=>_(o),modelValue:o.completed,"onUpdate:modelValue":y=>o.completed=y,inputId:(k=o.id)==null?void 0:k.toString()},null,8,["onChange","modelValue","onUpdate:modelValue","inputId"]),t("label",{class:L(["font-medium white-space-nowrap text-overflow-ellipsis overflow-hidden ml-2",{"line-through":o.completed}]),style:{"max-width":"500px"}},C(o.name),3)]),t("div",H,[t("div",J,[o.comments?(d(),f("span",K,[P,j(C(o.comments),1)])):V("",!0),o.attachments?(d(),f("span",Q,[R,j(C(o.attachments),1)])):V("",!0),o.startDate?(d(),f("span",W,[X,j(C(D(o.startDate)),1)])):V("",!0)]),t("div",Y,[t("div",Z,[((I=o.members)==null?void 0:I.length)>0?(d(),E($,{key:0},{default:S(()=>[(d(!0),f(T,null,M(o.members.slice(0,4),y=>(d(),E(x,{key:y,image:"/demo/images/avatar/"+y.image,size:"large",shape:"circle"},null,8,["image"]))),128)),o&&o.members&&o.members.length>4?(d(),E(x,{key:0,label:`+${o.members.length-4}`,shape:"circle",size:"large",class:"bg-blue-500",style:U({color:"#212121",border:"2px solid var(--surface-border)"})},null,8,["label","style"])):V("",!0)]),_:2},1024)):V("",!0)]),i(l,{type:"button",icon:"pi pi-ellipsis-v",class:"z-3 ml-auto sm:ml-0",text:"",rounded:"",onClick:y=>m(y,B,o)},null,8,["onClick"]),i(e,{ref_for:!0,ref_key:"menu",ref:a,popup:"",model:b.value,class:"w-8rem"},null,8,["model"])])])])}),128))])],64)}}},ee={class:"p-4"},te={class:"grid p-fluid formgrid"},se={class:"col-12 field"},le=t("label",{for:"name",class:"text-900 font-semibold"},"Task Name",-1),oe={class:"col-12 field"},ne=t("label",{for:"description",class:"text-900 font-semibold"},"Description",-1),ae={class:"col-6 field"},ie=t("label",{for:"start",class:"text-900 font-semibold"},"Start Date",-1),ce={class:"col-6 field"},de=t("label",{for:"end",class:"text-900 font-semibold"},"Due Date",-1),re={class:"col-12 field"},me=t("label",{for:"members",class:"text-900 font-semibold"},"Add Team Member",-1),ue={class:"flex align-items-center"},pe=["src","alt"],ve={class:"text-900 font-medium"},fe={class:"flex align-items-center"},_e=["src","alt"],be={class:"text-900 font-medium"},ge={class:"col-12 flex justify-content-end mt-4"},he={__name:"CreateTaskDialog",props:{selectedTask:{type:Object,default:null}},emits:["close","save"],setup(w,{emit:p}){const a=w,n=u({}),b=u([]);z(()=>{a.selectedTask&&(n.value=a.selectedTask)});const c=async()=>{const m=await fetch("/demo/data/members.json"),{data:s}=await m.json();return s},g=()=>{p("close",n.value)},D=()=>{p("save",n.value)},_=async m=>{const s=await c();if(!m.query)return[];b.value=s.filter(v=>v.name.toLowerCase().indexOf(m.query.toLowerCase())===0)};return(m,s)=>{const v=r("InputText"),h=r("Editor"),x=r("Calendar"),$=r("AutoComplete"),l=r("Button");return d(),f("div",ee,[t("div",te,[t("div",se,[le,i(v,{id:"name",type:"text",placeholder:"Title",modelValue:n.value.name,"onUpdate:modelValue":s[0]||(s[0]=e=>n.value.name=e)},null,8,["modelValue"])]),t("div",oe,[ne,i(h,{modelValue:n.value.description,"onUpdate:modelValue":s[1]||(s[1]=e=>n.value.description=e),pt:{root:{style:{height:"150px"},class:"mb-6"}}},null,8,["modelValue"])]),t("div",ae,[ie,i(x,{dateFormat:"yy-mm-dd","show-time":!1,inputId:"start",placeholder:"Start Date",modelValue:n.value.startDate,"onUpdate:modelValue":s[2]||(s[2]=e=>n.value.startDate=e)},null,8,["modelValue"])]),t("div",ce,[de,i(x,{dateFormat:"yy-mm-dd","show-time":!1,inputId:"end",placeholder:"End Date",modelValue:n.value.endDate,"onUpdate:modelValue":s[3]||(s[3]=e=>n.value.endDate=e)},null,8,["modelValue"])]),t("div",re,[me,i($,{inputId:"members",modelValue:n.value.members,"onUpdate:modelValue":s[4]||(s[4]=e=>n.value.members=e),suggestions:b.value,field:"name",multiple:"",onComplete:s[5]||(s[5]=e=>_(e)),inputStyle:{height:"2.5rem"}},{chip:S(({value:e})=>[t("div",ue,[t("img",{src:"/demo/images/avatar/"+e.image,alt:e.name,class:"h-2rem w-2rem mr-2"},null,8,pe),t("span",ve,C(e.name),1)])]),item:S(({item:e})=>[t("div",fe,[t("img",{src:"/demo/images/avatar/"+e.image,alt:e.name,class:"h-2rem w-2rem mr-2"},null,8,_e),t("span",be,C(e.name),1)])]),_:1},8,["modelValue","suggestions"])]),t("div",ge,[i(l,{class:"w-8rem mr-3",outlined:"",icon:"pi pi-times",label:"Cancel",onClick:s[6]||(s[6]=e=>g())}),i(l,{class:"w-8rem",icon:"pi pi-check",label:"Save",onClick:s[7]||(s[7]=e=>D())})])])])}}},xe={class:"card"},ye={class:"flex justify-content-between align-items-center mb-5"},Ce=t("span",{class:"text-900 text-xl font-semibold"},"Task List",-1),we={__name:"Index",setup(w){const p=N(),a=u([]),n=u([]),b=u([]),c=u({visible:!1,task:null}),g=u(null);q(async()=>{a.value=await D(),_(a.value)});const D=async()=>{const l=await fetch("/demo/data/tasks.json"),{data:e}=await l.json();return e},_=l=>{n.value=l.filter(e=>e.completed!==!0),b.value=l.filter(e=>e.completed)},m=l=>{a.value.find(e=>e.id===l.id).completed=l.completed,_(a.value)},s=l=>{a.value=a.value.filter(e=>e.id!==l.id),_(a.value)},v=l=>{c.value.visible=!0,c.value.header="Edit Task",g.value=l},h=()=>{c.value.visible=!0,c.value.header="Create Task",g.value=null},x=()=>{c.value.visible=!1},$=l=>{l?(a.value=a.value.filter(e=>e.id!==l.id),a.value.push(l),p.add({severity:"success",summary:"Edited",detail:`Task "${l.name}" edited successfully.`,life:3e3})):(a.value.push(l),p.add({severity:"success",summary:"Success",detail:`Task "${l.name}" created successfully.`,life:3e3})),_(a.value),c.value.visible=!1};return(l,e)=>{const o=r("Button"),B=r("Dialog");return d(),f(T,null,[t("div",xe,[t("div",ye,[Ce,i(o,{class:"font-semibold",outlined:"",icon:"pi pi-plus",label:"Create Task",onClick:e[0]||(e[0]=k=>h())})]),i(A,{"task-list":n.value,title:"ToDo","onCheckbox:change":m,"onDelete:task":s,"onOpen:edit:dialog":v},null,8,["task-list"]),i(A,{"task-list":b.value,title:"Completed","onCheckbox:change":m,"onDelete:task":s,"onOpen:edit:dialog":v},null,8,["task-list"])]),i(B,{header:c.value.header||"",visible:c.value.visible,"onUpdate:visible":e[2]||(e[2]=k=>c.value.visible=k),modal:"",class:"mx-3 sm:mx-0 sm:w-full md:w-8 lg:w-6",contentClass:"border-round-bottom border-top-1 surface-border p-0"},{default:S(()=>[i(he,{"selected-task":g.value,onClose:e[1]||(e[1]=k=>x()),onSave:$},null,8,["selected-task"])]),_:1},8,["header","visible"])],64)}}};export{we as default};
