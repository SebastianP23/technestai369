import{r as f,b,d as i,e as m,f as e,k as C,t as p,g as u,F as g,s as y,l as w,x as k,C as A,h as $,D as T,w as V,y as S,o as j,E as B}from"./index-cd74998a.js";const D={class:"flex flex-column h-full"},L={class:"flex align-items-center border-bottom-1 surface-border p-3 lg:p-6"},M={class:"relative flex align-items-center mr-3"},N=["src","alt"],O={class:"mr-2"},q={class:"text-900 font-semibold block"},E=e("span",{class:"text-700"},"Last active 1 hour ago",-1),F={class:"flex align-items-center ml-auto"},J={class:"user-message-container p-3 md:px-4 lg:px-6 lg:py-4 mt-2 overflow-y-auto",style:{"max-height":"53vh"}},K={key:0,class:"grid grid-nogutter mb-4"},P={class:"mr-3 mt-1"},z=["src","alt"],H={class:"col mt-3"},G={class:"text-900 font-semibold mb-3"},Q={class:"text-700 inline-block font-medium border-1 surface-border p-3 white-space-normal border-round",style:{"word-break":"break-word","max-width":"80%"}},R={class:"text-700 mt-3"},W=e("i",{class:"pi pi-check ml-2 text-green-400"},null,-1),X={key:1,class:"grid grid-nogutter mb-4"},Y={class:"col mt-3 text-right"},Z={class:"inline-block text-left font-medium border-1 surface-border bg-primary-100 text-primary-900 p-3 white-space-normal border-round",style:{"word-break":"break-word","max-width":"80%"}},ee={class:"text-700 mt-3"},te=e("i",{class:"pi pi-check ml-2 text-green-400"},null,-1),se={class:"p-3 md:p-4 lg:p-6 flex flex-column sm:flex-row align-items-center mt-auto border-top-1 surface-border gap-3"},ae={class:"flex w-full sm:w-auto gap-3"},oe={__name:"ChatBox",props:{user:{type:Object,required:!0}},emits:["send:message"],setup(t,{emit:h}){const d=f(123),c=f(null),o=f(""),_=["😀","😃","😄","😁","😆","😅","😂","🤣","😇","😉","😊","🙂","🙃","😋","😌","😍","🥰","😘","😗","😙","😚","🤪","😜","😝","😛","🤑","😎","🤓","🧐","🤠","🥳","🤗","🤡","😏","😶","😐","😑","😒","🙄","🤨","🤔","🤫","🤭","🤥","😳","😞","😟","😠","😡","🤬","😔","😟","😠","😡","🤬","😔","😕","🙁","😬","🥺","😣","😖","😫","😩","🥱","😤","😮","😱","😨","😰","😯","😦","😧","😢","😥","😪","🤤"],v=l=>new Date(l).toTimeString().split(":").slice(0,2).join(":"),n=()=>{if(o.value==""||o.value===" ")return;let l={text:o.value,ownerId:123,createdAt:new Date().getTime()};h("send:message",l),o.value=""},s=l=>{o.value=o.value+l,c.value.hide()};return(l,r)=>{const x=b("Button"),U=b("InputText"),I=b("OverlayPanel");return i(),m(g,null,[e("div",D,[e("div",L,[e("div",M,[e("img",{src:"/demo/images/avatar/"+t.user.image,alt:t.user.name,class:"w-4rem h-4rem border-circle shadow-4"},null,8,N),e("span",{class:C(["w-1rem h-1rem border-circle border-2 surface-border absolute bottom-0 right-0",{"bg-green-400":t.user.status==="active","bg-red-400":t.user.status==="busy","bg-yellow-400":t.user.status==="away"}])},null,2)]),e("div",O,[e("span",q,p(t.user.name),1),E]),e("div",F,[u(x,{type:"button",icon:"pi pi-phone",class:"mr-3",outlined:"",severity:"secondary",rounded:""}),u(x,{type:"button",icon:"pi pi-ellipsis-v",outlined:"",severity:"secondary",rounded:""})])]),e("div",J,[(i(!0),m(g,null,y(t.user.messages,a=>(i(),m("div",{key:a},[a.ownerId!==123?(i(),m("div",K,[e("div",P,[e("img",{src:"/demo/images/avatar/"+t.user.image,alt:t.user.name,class:"w-3rem h-3rem border-circle shadow-4"},null,8,z)]),e("div",H,[e("p",G,p(t.user.name),1),e("span",Q,p(a.text),1),e("p",R,[w(p(v(a.createdAt)),1),W])])])):k("",!0),a.ownerId===d.value?(i(),m("div",X,[e("div",Y,[e("span",Z,p(a.text),1),e("p",ee,[w(p(v(a.createdAt))+" ",1),te])])])):k("",!0)]))),128))]),e("div",se,[u(U,{id:"message",type:"text",placeholder:"Type a message",class:"flex-1 w-full sm:w-auto border-round",modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=a=>o.value=a),onKeydown:r[1]||(r[1]=A(a=>n(),["enter"]))},null,8,["modelValue"]),e("div",ae,[u(x,{class:"p-button w-full sm:w-auto justify-content-center text-xl",severity:"secondary",onClick:r[2]||(r[2]=a=>l.$refs.op.toggle(a))},{default:$(()=>[w("😀")]),_:1}),u(x,{label:"Send",icon:"pi pi-send",class:"w-full sm:w-auto",onClick:r[3]||(r[3]=a=>n())})])])]),u(I,{ref_key:"op",ref:c,class:"w-full sm:w-30rem"},{default:$(()=>[(i(),m(g,null,y(_,a=>u(x,{key:a,onClick:$e=>s(a),type:"button",label:a,class:"p-2 text-2xl",text:""},null,8,["onClick","label"])),64))]),_:1},512)],64)}}},re="/demo/images/avatar/circle/avatar-f-1@2x.png",ne={class:"flex flex-nowrap justify-content-between align-items-center border-1 surface-border border-round p-3 cursor-pointer select-none hover:surface-hover transition-colors transition-duration-150",tabindex:"0"},le={class:"flex align-items-center"},ce={class:"relative md:mr-3"},ie=["src"],de={class:"flex-column hidden md:flex"},ue={class:"text-900 font-semibold block"},me={class:"block text-600 text-overflow-ellipsis overflow-hidden white-space-nowrap w-10rem text-sm"},he={class:"text-700 font-semibold ml-auto hidden md:inline"},pe={__name:"UserCard",props:{user:{type:Object,required:!0}},setup(t){const h=t,d=T(()=>h.user.messages[h.user.messages.length-1].text);return(c,o)=>(i(),m("div",ne,[e("div",le,[e("div",ce,[e("img",{src:"/demo/images/avatar/"+t.user.image,alt:"user",class:"w-3rem h-3rem border-circle shadow-4"},null,8,ie),e("span",{class:C(["w-1rem h-1rem border-circle border-2 surface-border absolute",{"bg-green-400":t.user.status==="active","bg-red-400":t.user.status==="busy","bg-yellow-400":t.user.status==="away"}]),style:{bottom:"2px",right:"2px"}},null,2)]),e("div",de,[e("span",ue,p(t.user.name),1),e("span",me,p(d.value),1)])]),e("span",he,p(t.user.lastSeen),1)]))}},ve=e("div",{class:"flex flex-column align-items-center border-bottom-1 surface-border p-6"},[e("img",{src:re,class:"w-6rem h-6rem border-circle shadow-4",alt:"Asiya Javayant"}),e("span",{class:"text-900 text-xl font-semibold mt-4"},"Asiya Javayant")],-1),fe={class:"w-full flex row-gap-4 flex-column surface-border p-4"},xe={class:"p-input-icon-left w-full"},_e=e("i",{class:"pi pi-search"},null,-1),ge={class:"flex flex-row gap-4 md:flex-column overflow-auto"},be={__name:"ChatSidebar",props:{users:{type:Array,default:()=>[]}},emits:["change:active:user"],setup(t,{emit:h}){const d=t,c=f([]),o=f("");V(()=>d.users,n=>{c.value=n},{immediate:!0});const _=n=>{h("change:active:user",n)},v=async()=>{if(o.value===""){c.value=d.users;return}const n=c.value.filter(s=>s.name.toLowerCase().includes(o.value.toLowerCase()));c.value=[...n]};return(n,s)=>{const l=b("InputText");return i(),m(g,null,[ve,e("div",fe,[e("span",xe,[_e,u(l,{id:"search",type:"text",placeholder:"Search",class:"w-full",modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=r=>o.value=r),onInput:v},null,8,["modelValue"])]),e("div",ge,[(i(!0),m(g,null,y(c.value,r=>(i(),S(pe,{key:r,user:r,onClick:x=>_(r)},null,8,["user","onClick"]))),128))])])],64)}}},we={class:"flex flex-column md:flex-row gap-5",style:{"min-height":"81vh"}},ye={class:"md:w-25rem card p-0"},ke={class:"flex-1 card p-0"},Ue={__name:"Index",setup(t){const h=f(1),d=f([]);j(async()=>{d.value=await c(),n()});const c=async()=>{const s=await fetch("/demo/data/chat.json"),{data:l}=await s.json();return l},o=s=>{h.value=s.id,n()},_=s=>{v().messages.push(s),n()},v=()=>d.value.find(s=>s.id===h.value)||{},n=async()=>{const s=document.querySelector(".user-message-container");await B(()=>{s.scroll({top:s.scrollHeight})})};return(s,l)=>(i(),m("div",we,[e("div",ye,[u(be,{"onChange:active:user":o,users:d.value},null,8,["users"])]),e("div",ke,[u(oe,{"onSend:message":_,user:v()},null,8,["user"])])]))}};export{Ue as default};
